## Межсайтовая подделка запроса (CSRF)

[Mежсайтовая подделка запроса (CSRF)](https://owasp.org/www-community/attacks/csrf) — это тип атаки, при котором злоумышленный веб-сайт, электронное письмо, блог, мгновенное сообщение или программа заставляют веб-браузер пользователя выполнить нежелательное действие на доверенном сайте, когда пользователь аутентифицирован.

Laravel предоставляет защиту от CSRF "из коробки" с помощью промежуточного ПО `VerifyCSRFToken`. Обычно, если у вас есть это промежуточное ПО в группе промежуточного ПО `web` в вашем классе `App\Http\Kernel`, вы должны быть хорошо защищены:

```php
/**
* The application's route middleware groups.
*
* @var array
*/
protected $middlewareGroups = [
    'web' => [
        // ...
        \App\Http\Middleware\VerifyCsrfToken::class,
        // ...
    ],
];
```

Затем, для всех ваших форм отправки `POST` запросов, вы можете использовать директиву `@csrf` Blade для генерации скрытых полей токена CSRF:

```html
<form method="POST" action="/profile">
    @csrf

    <!-- Эквивалентно... -->
    <input type="hidden" name="_token" value="{{ csrf_token() }}" />
</form>
```

Для AJAX-запросов вы можете настроить [заголовок X-CSRF-Token](https://laravel.com/docs/csrf#csrf-x-csrf-token).

Laravel также предоставляет возможность исключать определенные маршруты из защиты от CSRF, используя переменную `$except` в вашем классе промежуточного ПО CSRF. Обычно вы хотели бы исключить только маршруты без состояния (например, API или вебхуки) из защиты от CSRF. Если какие-либо другие маршруты исключены, это может привести к уязвимостям CSRF.
